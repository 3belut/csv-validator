{% extends 'base.html.twig' %}

{% block body %}
    <div class="w3-container">

        <h2>Dynamic Progress Bar with Labels</h2>
        <p>Centered label:</p>

        <div class="w3-light-grey">
            <div id="progressBar" class="w3-container w3-green w3-center" style="width:20%">20%</div>
        </div>
        <br>
        <button class="w3-button w3-green" onclick="move()">Click Me</button>

    </div>
{% endblock %}

{% block javascripts %}
    <script>
        function move() {
            var elem = document.getElementById("progressBar");
            var width = 0;

            $.ajax({
                url: 'progress',
                type: 'POST',
                data: data,
                dataType: 'json',
                success: function (result) {
                    width = result['current'] / result['total'];
                    elem.style.width = width + '%';
                    elem.innerHTML = result['current'] + '/' + result['total'] + '%';
                },
                error: function () {
                }
            })
        }
    </script>
{% endblock %}
